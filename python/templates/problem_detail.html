<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>{{ problem.title }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-10">

<!-- ğŸŸ¦ è¿”å›ä¸Šä¸€é  -->
<a href="javascript:history.back()" 
   class="inline-block px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded mb-6 shadow-sm">
    â† è¿”å›ä¸Šä¸€é 
</a>

<!-- ğŸ§© é¡Œç›®æ¨™é¡Œ -->
<h1 class="text-3xl font-bold mb-2">{{ problem.id }} â€” {{ problem.title }}</h1>

<!-- ğŸŸ§ é›£åº¦æ¨™ç±¤ -->
{% if problem.difficulty %}
    <span class="inline-block px-3 py-1 rounded-full text-sm mb-6
        {% if problem.difficulty == 'Easy' %}
            bg-green-200 text-green-800
        {% elif problem.difficulty == 'Medium' %}
            bg-yellow-200 text-yellow-800
        {% elif problem.difficulty == 'Hard' %}
            bg-red-200 text-red-800
        {% else %}
            bg-gray-200 text-gray-800
        {% endif %}
    ">
        {{ problem.difficulty }}
    </span>
{% endif %}

<!-- é¡Œç›®æ•˜è¿° -->
<p class="text-gray-700 mb-8">{{ problem.description }}</p>




<!-- ğŸŸ§ Step 16 â€” é¡¯ç¤ºç¯„ä¾‹ Input / Output -->
<div class="bg-white shadow p-6 rounded-lg mb-10">
    <h2 class="text-2xl font-bold mb-4">ğŸ“˜ ç¯„ä¾‹ï¼ˆSample Input / Outputï¼‰</h2>

    {% if problem.testCases %}
        <div class="space-y-4">
            {% for tc in problem.testCases[:2] %}
                <div class="border p-4 rounded bg-gray-50">
                    <p><strong class="text-blue-700">Inputï¼š</strong> {{ tc.input }}</p>
                    <p><strong class="text-green-700">Expectedï¼š</strong> {{ tc.expected }}</p>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-500">æ­¤é¡Œæ²’æœ‰æä¾›ç¤ºä¾‹ã€‚</p>
    {% endif %}
</div>



<!-- ä¸Šå‚³ç­”æ¡ˆ -->
<div class="bg-white shadow p-6 rounded-lg mb-10">
    <h2 class="text-2xl font-bold mb-4">ä¸Šå‚³ç­”æ¡ˆ</h2>

    <form id="uploadForm" enctype="multipart/form-data" class="space-y-4">

        <div>
            <label class="font-semibold">èªè¨€ï¼š</label><br>
            <select name="lang" class="border p-2 rounded">
                <option value="python">Python</option>
                <option value="java">Java</option>
            </select>
        </div>

        <div>
            <input type="file" name="code" required 
                   class="border p-2 rounded w-full bg-gray-50">
        </div>

        <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
            æäº¤ç­”æ¡ˆ
        </button>
    </form>
</div>



<!-- çµæœå€ -->
<div id="result" class="bg-white shadow p-6 rounded-lg"></div>



<!-- JS æäº¤ç­”æ¡ˆ -->
<script>
document.getElementById("uploadForm").onsubmit = async (e)=>{
    e.preventDefault();

    let form = new FormData(e.target);

    let res = await fetch("/submit/{{ filename }}/{{ pid }}", {
        method:"POST",
        body:form
    });

    let data = await res.json();

    let html = `
        <h2 class="text-2xl font-bold mb-4">çµæœåˆ†æ</h2>
        <p class="text-lg mb-4">
            ğŸ”¢ å¾—åˆ†ï¼š<strong>${data.score} / ${data.total}</strong><br>
            ğŸ” å˜—è©¦æ¬¡æ•¸ï¼š<strong>${data.attempts}</strong>
        </p>

        <h3 class="text-xl font-bold mb-2">æ¸¬è©¦æ¡ˆä¾‹çµæœ</h3>
        <div class="space-y-4">
    `;

    data.details.forEach(d=>{
        html += `
        <div class="border-b pb-3">
            <p><strong>Inputï¼š</strong> ${d.input}</p>
            <p><strong>Outputï¼š</strong> ${d.output}</p>
            <p><strong>Expectedï¼š</strong> ${d.expected}</p>
            <p class="font-bold ${d.passed ? 'text-green-600' : 'text-red-600'}">
                ${d.passed ? "âœ” é€šé" : "âœ˜ éŒ¯èª¤"}
            </p>
        </div>`;
    });

    html += "</div>";

    document.getElementById("result").innerHTML = html;
};
</script>

</body>
</html>
